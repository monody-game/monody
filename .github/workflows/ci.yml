name: 'Continuous Integration'
on: [ push ]
jobs:
  Fixer:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ˜ Setup php
        uses: shivammathur/setup-php@2.22.0
        with:
          php-version: "8.2"
      - name: âœ¨ Infos
        run: |
          echo "ğŸ’¼ Running tests on ${GITHUB_REPOSITORY}"
          echo "ğŸ˜ PHP version: $(php -v)"
      - name: ğŸ’» Check out repository code
        uses: actions/checkout@v3
      - name: ğŸ“œ Install dependencies
        run: make install
      - name: âš™ Run fixer
        run: make format
  Linter:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ˜ Setup php
        uses: shivammathur/setup-php@2.22.0
        with:
          php-version: "8.2"
      - name: âœ¨ Infos
        run: |
          echo "ğŸ’¼ Running tests on ${GITHUB_REPOSITORY}"
          echo "ğŸ˜ PHP version: $(php -v)"
      - name: ğŸ’» Check out repository code
        uses: actions/checkout@v3
      - name: ğŸ“œ Install dependencies
        run: make install
      - name: âš™ Run lint
        run: make lint
  Tests:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ˜ Setup php
        uses: shivammathur/setup-php@2.22.0
        with:
          php-version: "8.2"
      - name: âœ¨ Infos
        run: |
          echo "ğŸ’¼ Running tests on ${GITHUB_REPOSITORY}"
          echo "ğŸ˜ PHP version: $(php -v)"
      - name: ğŸ’» Check out repository code
        uses: actions/checkout@v3
      - name: ğŸ“œ Install dependencies
        run: make install
      - name: âš™ Run tests
        run: make tests
